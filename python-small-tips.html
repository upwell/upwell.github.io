<!DOCTYPE html>
<html>
    <head>
        <title>python small tips - Note Everything</title>
        <meta charset="utf-8" />
        <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" />
        <link href="http://hehan.net/theme/static/css/style.css" rel="stylesheet" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <link href="http://hehan.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Note Everything Full Atom Feed" />
        <link href="http://hehan.net/feeds/tech.atom.xml" type="application/atom+xml" rel="alternate" title="Note Everything Categories Atom Feed" />
    </head>

    <body id="index" class="archive">
        <div class="container">
            <div class="header">
                <ul class="nav nav-pills pull-right">
                    <li class=""><a href="http://hehan.net">Home</a></li>
                    <li><a href="http://hehan.net/archives.html">Archives</a></li>
                </ul>
                <h3 class="text-muted"><a href="http://hehan.net">Note Everything</a></h3>
				<h2 class="text-muted"></h2>
             </div>
<section id="content" class="article content">
  <header>
    <h2 class="entry-title">
      <a href="http://hehan.net/python-small-tips.html" rel="bookmark"
         title="Permalink to python small tips">python small tips</a></h2>
 
  </header>
  
     
  <div class="entry-content">
    <h3>Join two lists</h3>
<div class="highlight"><pre><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</pre></div>


<h3>Join two dicts</h3>
<div class="highlight"><pre><span class="n">d1</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s">&#39;b&#39;</span><span class="p">}</span>
<span class="n">d2</span> <span class="o">=</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s">&#39;d&#39;</span><span class="p">}</span>
<span class="n">d1</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">d2</span><span class="p">)</span>
<span class="c"># {1: &#39;a&#39;, 2: &#39;b&#39;, 3: &#39;c&#39;, 4: &#39;d&#39;}</span>
</pre></div>


<h3>Check if a list/dictionary/tuple is empty</h3>
<div class="highlight"><pre><span class="n">l</span> <span class="o">=</span> <span class="p">[]</span>      <span class="err">#</span> <span class="n">same</span> <span class="k">for</span> <span class="p">{}</span> <span class="n">and</span> <span class="p">()</span>
<span class="k">if</span> <span class="n">l</span><span class="o">:</span>
    <span class="n">print</span> <span class="err">&#39;</span><span class="n">list</span> <span class="n">is</span> <span class="n">not</span> <span class="n">empty</span><span class="err">&#39;</span>
<span class="nl">else:</span>
    <span class="n">print</span> <span class="err">&#39;</span><span class="n">list</span> <span class="n">is</span> <span class="n">empty</span><span class="err">&#39;</span>
</pre></div>


<h3>Iterate over dictionary</h3>
<div class="highlight"><pre><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="sc">&#39;a&#39;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="sc">&#39;b&#39;</span><span class="o">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="k">for</span> <span class="n">key</span> <span class="n">in</span> <span class="n">d</span><span class="o">:</span>
    <span class="n">print</span> <span class="n">key</span><span class="p">,</span> <span class="n">d</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</pre></div>


<div class="highlight"><pre><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="sc">&#39;a&#39;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="sc">&#39;b&#39;</span><span class="o">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="n">in</span> <span class="n">d</span><span class="p">.</span><span class="n">iteritems</span><span class="p">()</span><span class="o">:</span>
    <span class="n">print</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span>
</pre></div>


<h3>Access the index while looping a list</h3>
<div class="highlight"><pre><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="sc">&#39;a&#39;</span><span class="p">,</span> <span class="sc">&#39;b&#39;</span><span class="p">,</span> <span class="sc">&#39;c&#39;</span><span class="p">,</span> <span class="sc">&#39;d&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">value</span> <span class="n">in</span> <span class="n">enumerate</span><span class="p">(</span><span class="n">l</span><span class="p">)</span><span class="o">:</span>
    <span class="n">print</span> <span class="n">idx</span><span class="p">,</span> <span class="n">value</span>
</pre></div>


<h3>Reverse range</h3>
<div class="highlight"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">reversed</span><span class="p">(</span><span class="n">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>


<h3>Select items from a list randomly</h3>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span>

<span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="k">print</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>         <span class="c"># select single item</span>
<span class="k">print</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>      <span class="c"># select 3 random items</span>
</pre></div>


<h3>Split and convert to int</h3>
<div class="highlight"><pre><span class="n">c</span> <span class="o">=</span> <span class="s">&#39;1,2,3,4&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>                <span class="c"># [&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;]</span>
<span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">))</span>      <span class="c"># [1,2,3,4]</span>
</pre></div>


<h3>Mutable and immutable</h3>
<p><strong>Immutable</strong>:</p>
<ul>
<li>integers and other numerical types</li>
<li>string types like str and unicode</li>
<li>tuples</li>
</ul>
<p><strong>Mutable</strong>: everything else, like,</p>
<ul>
<li>lists</li>
<li>dicts</li>
<li>class</li>
<li>class instance</li>
<li>etc.</li>
</ul>
<h3>Double quote VS. single quote</h3>
<ul>
<li>use double quotes around strings that are used for interpolation or that are natural language messages</li>
<li>single quotes for small symbol-like strings</li>
<li>use triple double quotes for docstrings and raw string literals</li>
</ul>
<div class="highlight"><pre><span class="n">LIGHT_MESSAGES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="err">&#39;</span><span class="n">English</span><span class="err">&#39;</span><span class="o">:</span> <span class="s">&quot;There are %(number_of_lights)s lights.&quot;</span><span class="p">,</span>
    <span class="err">&#39;</span><span class="n">Pirate</span><span class="err">&#39;</span><span class="o">:</span>  <span class="s">&quot;Arr! Thar be %(number_of_lights)s lights.&quot;</span>
<span class="p">}</span>

<span class="n">def</span> <span class="n">lights_message</span><span class="p">(</span><span class="n">language</span><span class="p">,</span> <span class="n">number_of_lights</span><span class="p">)</span><span class="o">:</span>
    <span class="s">&quot;&quot;&quot;Return a language-appropriate string reporting the light count.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">LIGHT_MESSAGES</span><span class="p">[</span><span class="n">language</span><span class="p">]</span> <span class="o">%</span> <span class="n">locals</span><span class="p">()</span>

<span class="n">def</span> <span class="n">is_pirate</span><span class="p">(</span><span class="n">message</span><span class="p">)</span><span class="o">:</span>
    <span class="s">&quot;&quot;&quot;Return True if the given message sounds piratical.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="n">r</span><span class="s">&quot;(?i)(arr|avast|yohoho)!&quot;</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span> <span class="n">is</span> <span class="n">not</span> <span class="n">None</span>
</pre></div>
  </div><!-- /.entry-content -->
   <footer class="post-info text-muted">
    Posted on <abbr class="published" title="2015-02-28T10:09:00+08:00">
      六 28 二月 2015
    </abbr>
    <address class="vcard author">
      by <a class="url fn" href="http://hehan.net/author/han.html">Han</a>
    </address> in <a href="http://hehan.net/category/tech.html">tech</a> Tagged <a href="http://hehan.net/tag/python.html">python </a>  </footer><!-- /.post-info -->
</section>
            <footer id="contentinfo" class="footer">
                    <nav class="pull-right bottom-nav">
                        <a href="http://hehan.net/feeds/all.atom.xml">RSS</a>
                    </nav>
                    <address id="about" class="vcard body">
                    &copy; <a href="http://hehan.net">Note Everything</a> Proudly powered by <a href="http://getpelican.com/">Pelican</a>
                    </address><!-- /#about -->
            </footer><!-- /#contentinfo -->
        </div><!-- container -->
    </body>
</html>